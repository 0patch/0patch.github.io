<!DOCTYPE html>
<html lang="fr">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Due aux récentes attaques de logiciels malveillants à travers le monde comme WannaCry en Mai dernier et NotPetya cette semaine, l’importance d’informe">
    

    <!--Author-->
    
        <meta name="author" content="0patch">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Comment Se Proteger Contre NotPetya"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Cyber Security &amp; Digital Forensics"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    
        <meta property="og:image" content="https://0patch.github.io/img/notpetya-bg.jpeg" />
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Comment Se Proteger Contre NotPetya - Cyber Security &amp; Digital Forensics</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-101933501-1', 'auto');
        ga('send', 'pageview');

    </script>



    <!-- favicon -->
    
    <link rel="icon" href="/img/favicon.ico">
    
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">0patch's Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                <i class="fa fa-home fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/projets">
                            
                                Projets
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Mots clés
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Catégories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/a-propos">
                            
                                A propos
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/img/notpetya-bg.jpeg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Comment Se Proteger Contre NotPetya</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                            Publié par 0patch en
                        
                        
                            Jul 2017
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
               <!-- Original Code
		<div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        <i class="fa fa-tags" aria-hidden="true"></i> &nbsp;


<a href="/tags/Malware/">#Malware</a> <a href="/tags/Ransomware/">#Ransomware</a> <a href="/tags/Viruses/">#Viruses</a>


                    
                </div>
	     -->
		<div class="post-tags" align="center">
                    
                        <i class="fa fa-tags" aria-hidden="true"></i> &nbsp;


<a href="/tags/Malware/">#Malware</a> <a href="/tags/Ransomware/">#Ransomware</a> <a href="/tags/Viruses/">#Viruses</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/categories/Analyse-de-Logiciel-Malicieux/">Analyse de Logiciel Malicieux</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>Due aux récentes attaques de logiciels malveillants à travers le monde comme <strong>WannaCry</strong> en Mai dernier et <strong>NotPetya</strong> cette semaine, l’importance d’informer et de sensibiliser se fait de plus en plus importante. Certes les attaques jusqu’à présent n’ont visé que de grandes entreprises pour la plupart dans les pays développés. Il serait bien et temps que les entreprises mettent un serieux accent sur la sécurité des infrastructures informatique. Car dans les mois à venir le monde connaîtra de plus en plus d’attaque du genre. Et les gouvernements faibles et insouciants se verront frapper en plein cœur. On parle du Ransomware <strong>Petya</strong> et de sa nouvelle variante <strong>NotPetya</strong>, beaucoup se posent les questions à savoir:</p>
<h3 id="Comment-fonctionne-NotPetya-et-comment-s’en-proteger"><a href="#Comment-fonctionne-NotPetya-et-comment-s’en-proteger" class="headerlink" title="Comment fonctionne NotPetya et comment s’en protéger?"></a>Comment fonctionne NotPetya et comment s’en protéger?</h3><p>NotPetya est un logiciel malicieux communément appelé <strong>Ransomware</strong>. Un Ransomware ou encore connu sous le nom de <strong>logiciel de rançonnage</strong> informatique comme son nom l’indique est un logiciel dont la particularité est d’infecter les systèmes vulnérables. Après infection, tous les fichiers de votre ordinateur se retrouvent encryptés et requièrent une clé de décryptage pour être accessible. Un message apparaît donc pour vous demander le paiement d’une rançon en échange de la clé de décryptage si vous voulez accéder vos fichiers. NotPetya comme Wannacry utilise le même <strong>modus operandi</strong>, infecter les systèmes informatiques à travers les services de partages de fichiers SMBv1 (Serveur Message Block) supportés par les systèmes Microsoft depuis une trentaine d’années. Sans compter que Microsoft avait annoncé récemment l’arrêt des mises à jour de ce service et avait conseillé aux administrateurs de désactiver ce service des differents systèmes et penser à une mise à niveau vers la version 2. Après analyse d’un certain nombre de <strong>Ransomware</strong>, je suis arriver à des conclusions très utiles.</p>
<h4 id="Les-systemes-affectes-sont"><a href="#Les-systemes-affectes-sont" class="headerlink" title="Les systèmes affectés sont :"></a>Les systèmes affectés sont :</h4><p>Je dirai tous les systèmes Windows, sans exception de Windows XP à Windows 10. La plupart des chercheurs ont conclu que seuls les systèmes vulnérables à <strong>EternalBlue</strong>, la vulnérabilité exploitée par NotPetya pour infecter les systèmes était vulnérable. Ma propre analyse conclut que mes confrères manquent de diligence et devrait avoir une grande ouverture sur la question. Les attaques informatiques comme NotPetya ont plusieurs vecteurs d’attaques. Sur ce; je m’explique, beaucoup de victimes se sont vues infectés par NotPetya juste en cliquant sur un lien provenant de l’adresse e-mail suivante: <strong> <em>wowsmth12345@posteo.net</em> </strong> <strong>(Nombres d’adresses existes)</strong>. Ce qui techniquement veut dire que si un utilisateur télécharge le <strong>Ransomware</strong> depuis un réseau informatique sous Windows 10, il se retrouve infecté.</p>
<h4 id="Mon-conseil-en-tant-que-chercheur-en-securite-informatique-serait"><a href="#Mon-conseil-en-tant-que-chercheur-en-securite-informatique-serait" class="headerlink" title="Mon conseil en tant que chercheur en sécurité informatique serait :"></a>Mon conseil en tant que chercheur en sécurité informatique serait :</h4><p><strong> <em>Pour tout internaute</em> </strong>:</p>
<ul>
<li>Ne cliquez sur aucun lien que vous ne connaissez </li>
<li>Evitez de télécharger des applications de sources doutantes <strong>(exemples: site de torrents, exécutables reçues par e-mail)</strong> </li>
<li>Continuellement mettre a jour son système</li>
<li>Activer la protection à l’accès des fichiers <strong>(seulement pour les utilisateurs de Windows 10)</strong> </li>
<li>Déconnecter immédiatement votre système de toute source de courant dès que vous avez le doute d’être infecté <strong>(semble bete mais très utile)</strong>. </li>
</ul>
<p><strong> <em>Pour les administrateurs réseaux</em> </strong>:</p>
<ul>
<li>Bloquer toute tentative de connexion sinon utiliser ou filtrer le trafic sur tous les ports : <strong> <em>TCP 445, TCP 139, UDP 137 et UDP 138</em> </strong> </li>
<li>Signaler tout e-mail provenant de l’adresse ci-dessus comme non-desiré</li>
<li>Mettre a jour les systèmes et désactiver smbv1 au profit de smbv2 </li>
<li>S’abonner a des pages comme <strong>TheHackerNews</strong> pour rester à jour sur l’actualité informatique, les nouvelles techniques employées par les hackers.</li>
</ul>
<h3 id="Comment-j’ai-recupere-mes-fichiers-apres-infection"><a href="#Comment-j’ai-recupere-mes-fichiers-apres-infection" class="headerlink" title="Comment j’ai récuperé mes fichiers après infection?"></a>Comment j’ai récuperé mes fichiers après infection?</h3><p>Après infection, votre machine redémarre et vous fait croire qu’il y a une erreur de disque et que le système répare actuellement le fichier système. Pendant ce temps, le Ransomware encrypte vos fichiers. Si à ce moment précis, vous avez eu la notion de pro-activité d’éteindre votre machine, alors vous pourrez récupérer tous vos fichiers en majeure partie juste en redémarrant le système sur un <strong>live USB</strong> communement appelé <strong>clé boutable</strong>. Pour la simple raison que <strong>NotPetya</strong> n’encrypt pas directement les fichiers comme la majeure partie des Ransomwares mais plutôt encrypte le <strong>Master Boot Record (MBR)</strong> contenant l’adresse de la section de démarrage de votre ordinateur et le remplace avec son propre fichier MBR. Une fois ce fichier encrypté, votre ordinateur ne pouvant plus lire la section de démarrage se retrouve à lire celui-ci générer par <strong>NotPetya</strong>. La différence entre Petya et NotPetya se situe dans le fait que NotPetya contrairement à son prédécesseur Petya en plus d’encrypter le fichier MBR encrypte aussi <strong>les fichiers du stocker sur le disque dur</strong>. Ce qui une fois l’encryptage terminé rend la récupération des fichiers quasi impossible. Je crois que ça explique la raison pour laquelle il faut déconnecter son ordinateur de toutes sources de courant.</p>
<h3 id="Comment-se-proteger-de-tous-Ransomware"><a href="#Comment-se-proteger-de-tous-Ransomware" class="headerlink" title="Comment se protéger de tous Ransomware?"></a>Comment se protéger de tous Ransomware?</h3><p>Il faut dire qu’une fois encore mes confrères ont oublié d’approfondir leurs recherches. Après avoir étudié et analysé une multitude de Ransomware de familles différentes, je suis arrivé à une conclusion intéressante et surprenante à la fois. Les ransomware en général n’encryptent pas les fichiers sur la base de leur signature électronique mais sur les noms de fichiers. Modifier les <strong>noms de fichiers</strong> ou <strong>extensions</strong> vous preveindrez donc d’une quelconque attaque. Ce qui pour n’importe qui avec un minimum de connaissances pourrait employer afin de se prévenir de futures attaques de malware. Pour ceux qui se poseront la question a savoir comment un lecteur PDF comme Adobe Reader pourrait lire un fichier sans l’extension PDF, ma réponse est qu’il devrait lire plus.</p>
<h3 id="Que-propose-0patch-pour-tous-ces-lecteurs-et-lectrices"><a href="#Que-propose-0patch-pour-tous-ces-lecteurs-et-lectrices" class="headerlink" title="Que propose 0patch pour tous ces lecteurs et lectrices?"></a>Que propose 0patch pour tous ces lecteurs et lectrices?</h3><p>Bientôt une vidéo en ligne serait disponible en version française sur ma chaîne Youtube pour demontrer ma théorie. Vu que la version anglaise vous est déjà disponible <a href="https://m.youtube.com/watch?feature=youtu.be&amp;v=klAjKX-BYG4" target="_blank" rel="external">ici</a> par mon ami et aînée <a href="https://www.linkedin.com/in/shilpesh-trivedi-676821102" target="_blank" rel="external">Shilpesh Trivedi</a>.<br>Dans le deuxième cas, un script est déjà en cours de développement pour automatiser la modification des noms de fichiers. Bientôt disponible et gratuit sur mon compte github.</p>
<h3 id="Faut-il-payer-si-infectee-par-un-logiciel-de-ranconnage"><a href="#Faut-il-payer-si-infectee-par-un-logiciel-de-ranconnage" class="headerlink" title="Faut-il payer si infectée par un logiciel de rançonnage?"></a>Faut-il payer si infectée par un <em>logiciel de rançonnage</em>?</h3><p>Ma réponse est catégorique et c’est un <strong>NON</strong> formel. Depuis des années les experts en cyber sécurité informent et sensibilisent sur le fait que payer une rançon c’est comme corrompre. On n’est jamais sur du résultat, la preuve en est que tous ceux qui ont payé une rançon pour <strong>NotPetya</strong> n’ont jamais reçu de clé pour le décryptage des fichiers.</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
    <hr />
    <h3>Commentaires:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



                </div>
            
        </div>
    </div>
</article>

	
    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container" align="center">
	<b>Ping moi :)</b>
	<hr />
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                        <li>
                            <a href="https://twitter.com/ahmedlandrysan1?lang=fr" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                        <li>
                            <a href="https://github.com/0patch" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/ahmed-landry-sankara-ceh-5456ba98" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="mailto:0patch@protonmail.com" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2017 Powered by 0patch<br></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = '0patch';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>
